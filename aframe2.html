<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>可控大小的A-Frame场景</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dashjs@4.3.0/dist/dash.all.min.js"></script>
    <style>
        /* 限制A-Frame场景大小 */
        a-scene {
            width: 800px;   /* 自定义宽度 */
            height: 600px;  /* 自定义高度 */
            margin: 20px auto;  /* 居中显示 */
            border: 2px solid #333; /* 边框区分 */
            box-shadow: 0 0 10px rgba(0,0,0,0.3); /* 阴影增强视觉效果 */
        }
    </style>
</head>
<body>
    <!-- 添加 embedded 属性移除默认全屏样式 -->
    <a-scene embedded>
        <a-assets>
            <video 
                id="video" 
                preload="auto" 
                autoplay 
                loop="false" 
                crossOrigin="anonymous" 
                controls 
                style="height: 450px; width: 800px;"
            ></video>
        </a-assets>

        <a-videosphere 
            rotation="0 -90 0" 
            src="#video" 
            radius="5000" 
            segments-height="256" 
            segments-width="256"
        ></a-videosphere>

        <a-entity 
            camera 
            position="0 1.6 0"  
            wasd-controls="acceleration:1000" 
            look-controls 
            rotation-reader-camera
        ></a-entity>
    </a-scene>

    <script>
        // 初始化DASH播放（示例）
        function init() {
            const DASH_URL = 'http://127.0.0.1:5503/demosForTest/v1/stream.mpd';
            const video = document.getElementById('video');
            const player = dashjs.MediaPlayer().create();
            player.initialize(video, DASH_URL, false);
        }

        document.addEventListener('DOMContentLoaded', init);

        AFRAME.registerComponent('rotation-reader-camera', {});
    </script>
</body>
</html>
